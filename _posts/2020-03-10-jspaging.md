---
layout: post
title: Javascript 페이징
tags:
  - js
  - javascript
  - paging
  - pagination
---

```javascript
var messageTotalCount = 400;
var messagePerPage = 20;
var pageTotalCount = 0;
var pagePerGroup = 10;
var page = getParameterByName('page');
var lastGroup = 0;
if(page == '' || page == undefined) {
	page = 1;
}

$('#body').html('<span>' + page + ' 페이지</span>');

pageTotalCount = Math.floor(messageTotalCount / messagePerPage);
lastGroup = Math.floor(messageTotalCount / (messagePerPage * pagePerGroup));

if(messageTotalCount % messagePerPage > 0) {
	pageTotalCount++;
}

var html = '<nav aria-label="Page navigation example">';
html += '<ul class="pagination">';

var pageGroup = Math.floor(page / pagePerGroup);
if(page % pagePerGroup == 0) {
	pageGroup--;
}

var firstPage = pageGroup * pagePerGroup + 1;
var lastPage = firstPage + pagePerGroup - 1;

if(pageGroup == lastGroup) {
	lastPage = firstPage + pageTotalCount - ((pageGroup * pagePerGroup)) - 1;
}


if(pageGroup != 0) {
	html += '<li class="page-item"><a class="page-link" id="page_id_'+(Number(page) - 1)+'" href="/index.html?page='+(Number(page) - 1)+'">앞으로 가기</a></li>';
}

var i;
for(i = firstPage; i < lastPage + 1; i++) {
	html += '<li class="page-item"><a class="page-link" id="page_id_'+i+'" href="/index.html?page='+i+'">' + i + '</a></li>';
}

if(pageGroup != lastGroup && page != pageTotalCount) {
	html += '<li class="page-item"><a class="page-link" id="page_id_'+(Number(page) + 1)+'" href="/index.html?page='+(Number(page) + 1)+'">뒤로 가기</a></li>';
}

html += '</ul>';
html += '</nav>';


$(html).appendTo('#paging');

$('#page_id_' + page).closest('li').addClass('active');

function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
        results = regex.exec(location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

```
