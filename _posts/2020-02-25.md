---
layout: post
title: JPA, 엔티티 조회할 때 부모 엔티티의 속성까지 가져오는 방법
tags:
  - spring boot
  - jpa
  - 자식
  - 부모
---

## 부모 엔티티에 @OneToMany(mappedBy), 자식 엔티티에 @(ManyToOne) 어노테이션이 설정되어 있어야 함
* 아래와 같이 자식 엔티티에 부모 엔티티 속성에 접근할 수 있는 setter를 작성하면 부모의 속성을 같이 가져올 수 있다.
```
@Getter
@NoArgsConstructor
@Entity
@Table(name = "tr_store_coupon")
public class Coupon extends BaseTimeEntity {

    @Id
    @Column(name = "coupon_id")
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @ManyToOne
    @JoinColumn(name = "coupon_store_id")
    @JsonIgnore
    private Store store;

    private String storeNum;

    private String name;

    private String description;

    private int price;

    private int neededCoins;

    private String limits;

    private int status;

    // 상위 가맹점 정보를 얻기 위한 메스드들
    public String getStoreName() {
        return store.getName();
    }

    public String getStoreSimpleDescription() {
        return store.getSimpleDescription();
    }

    @Builder
    public Coupon(String storeNum, String name, String description, int price, int neededCoins, String limits, int status) {
        this.storeNum = storeNum;
        this.name = name;
        this.description = description;
        this.price = price;
        this.neededCoins = neededCoins;
        this.limits = limits;
        this.status = status;

    }
}
```
